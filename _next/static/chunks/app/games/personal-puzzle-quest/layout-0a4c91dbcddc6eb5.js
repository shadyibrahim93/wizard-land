(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7230,9901],{4128:(e,t,i)=>{Promise.resolve().then(i.bind(i,5446)),Promise.resolve().then(i.bind(i,3005))},5446:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(5155),o=i(2115),r=i(5744),a=i(9252),s=i(973);let l=e=>{let{setCurrentLevel:t}=e,[i,l]=(0,o.useState)([]),[c,u]=(0,o.useState)("∞"),[d,g]=(0,o.useState)(!1),[h,m]=(0,o.useState)("Well Done!"),[p,P]=(0,o.useState)(!1),[x,f]=(0,o.useState)(null),[w,y]=(0,o.useState)(!1),[v,b]=(0,o.useState)(600),[j,q]=(0,o.useState)(3);(0,o.useEffect)(()=>{let e=()=>{b(window.matchMedia("(max-width: 480px)").matches?300:600)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,o.useEffect)(()=>{t(c),D(j)},[v,c]);let N=()=>{l(e=>e.map(e=>({...e,correct:e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y})))},D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.min(3+(c-1),10),t=v/e,i=v/e,n=[];for(let o=0;o<e;o++)for(let r=0;r<e;r++)n.push({id:n.length,originalPosition:{x:r*t,y:o*i},currentPosition:{x:r*t,y:o*i},width:t,height:i,backgroundPosition:`-${r*t}px -${o*i}px`,dropped:!1,correct:!1});for(let e=0;e<n.length;e++){let t=Math.floor(Math.random()*n.length),i=n[e].currentPosition;n[e].currentPosition=n[t].currentPosition,n[t].currentPosition=i}for(let e of n)if(e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y){let t=n.find(t=>t.id!==e.id&&(t.currentPosition.x!==t.originalPosition.x||t.currentPosition.y!==t.originalPosition.y));if(t){let i=e.currentPosition;e.currentPosition=t.currentPosition,t.currentPosition=i}}l(n),N()},S=(e,t)=>{e.dataTransfer.setData("pieceId",t.id),N()},k=e=>{e.every(e=>e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y)&&(g(!0),u("∞"),(0,a.XQ)(),P(!0),setTimeout(()=>{g(!1),D(),m("Upload an Image to Play Again!")},5e3))},z=e=>{let t=e.target.value;(""===t||t>=3&&t<=10)&&q(t)};return w?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:`mq-settings-container ${d?"glowing":""}`,children:(0,n.jsxs)("div",{className:"mq-upload",children:[(0,n.jsx)("input",{className:"mq-file-input mq-btn",type:"file",onChange:e=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onload=e=>{let t=new Image;t.onload=()=>{let e=document.createElement("canvas"),i=e.getContext("2d");e.width=600,e.height=600,i.drawImage(t,0,0,600,600),f(e.toDataURL("image/jpeg"))},t.src=e.target.result},e.readAsDataURL(t)}},accept:"image/*",id:"mq-upload-input"}),(0,n.jsx)("label",{className:"mq-settings-label",children:"Between 3 - 10"}),(0,n.jsx)("input",{className:"mq-settings-input",type:"number",id:"difficulty",value:j,onChange:e=>z(e),min:"3",max:"10"}),(0,n.jsx)(r.A,{text:"Apply Settings",onClick:()=>{m("Well Done!"),P(!1),D(j)}})]})}),(0,n.jsx)("div",{className:"mq-jigsaw",style:{backgroundImage:`url(${x})`},children:(0,n.jsxs)("div",{className:`mq-board ${d?"glowing":""}`,onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let t=parseInt(e.dataTransfer.getData("pieceId"),10),n=i.find(e=>e.id===t),o=e.target.closest(".mq-board").getBoundingClientRect(),r=e.clientX-o.left,a=e.clientY-o.top,s=Math.min(Math.max(0,r-r%n.width),o.width-n.width),c=Math.min(Math.max(0,a-a%n.height),o.height-n.height),u=[...i],d=u.find(e=>e.id!==n.id&&e.currentPosition.x<s+n.width&&e.currentPosition.x+n.width>s&&e.currentPosition.y<c+n.height&&e.currentPosition.y+n.height>c);if(d){let e=n.currentPosition;n.currentPosition=d.currentPosition,d.currentPosition=e}else n.currentPosition={x:s,y:c};n.correct=n.currentPosition.x===n.originalPosition.x&&n.currentPosition.y===n.originalPosition.y,l(u),k(u),N()},children:[p&&(0,n.jsx)("h1",{className:"mq-ending-title",children:h}),i.map(e=>(0,n.jsx)("div",{className:`mq-piece ${e.correct?"correct":""}`,style:{backgroundImage:`url(${x})`,backgroundPosition:e.backgroundPosition,width:`${e.width}px`,height:`${e.height}px`,position:"absolute",top:`${e.currentPosition.y}px`,left:`${e.currentPosition.x}px`,zIndex:+!!e.dropped},draggable:!0,onDragStart:t=>S(t,e)},e.id))]})}),(0,n.jsx)("div",{className:"mq-btns-container",children:(0,n.jsx)(r.A,{text:"Restart Level",onClick:()=>D(j)})})]}):(0,n.jsx)(s.A,{introText:"Welcome to the Custom Jigsaw Puzzle! In this game, you can upload your own image and turn it into a puzzle. Your goal is to piece together the scattered puzzle pieces to form the complete image. Drag and drop the pieces into their correct spots. The pieces that are in the right position will appear brighter than the others, helping guide you along the way. Enjoy the challenge of creating your own puzzle and solving it!",onStart:()=>y(!0)})}}},e=>{var t=t=>e(e.s=t);e.O(0,[445,6711,7672,851,6631,9007,2354,104,4764,3489,8441,1684,7358],()=>t(4128)),_N_E=e.O()}]);