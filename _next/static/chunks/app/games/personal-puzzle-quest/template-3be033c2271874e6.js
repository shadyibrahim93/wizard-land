(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6186],{42:(e,t,n)=>{Promise.resolve().then(n.bind(n,5446))},973:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(5155),r=n(2115),o=n(8637),a=n.n(o),l=n(5744),s=n(9252);function u(e){let{introText:t,onStart:n,firstButtonText:o="Start Game",onSecondButtonClick:a,secondButtonText:u}=e,[c,p]=(0,r.useState)("");return(0,r.useEffect)(()=>{p(t.split(" ").map(e=>`<span class="word">${e}</span>`).join(" "))},[t]),(0,r.useEffect)(()=>{(0,s.NL)("bgmusic")},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mq-game-intro-text mq-text--white",dangerouslySetInnerHTML:{__html:c}}),(0,i.jsxs)("div",{className:"mq-btns-container",children:[n&&(0,i.jsx)(l.A,{text:o,onClick:()=>{(0,s.Qh)(),n()}}),u&&a&&(0,i.jsx)(l.A,{text:u,onClick:()=>{(0,s.Qh)(),a()}})]})]})}u.propTypes={introText:a().string.isRequired,onStart:a().func.isRequired,firstButtonText:a().string,onSecondButtonClick:a().func,secondButtonText:a().string}},2948:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5446:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(5155),r=n(2115),o=n(5744),a=n(9252),l=n(973);let s=e=>{let{setCurrentLevel:t}=e,[n,s]=(0,r.useState)([]),[u,c]=(0,r.useState)("∞"),[p,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)("Well Done!"),[g,y]=(0,r.useState)(!1),[v,x]=(0,r.useState)(null),[f,w]=(0,r.useState)(!1),[P,T]=(0,r.useState)(600),[$,b]=(0,r.useState)(3);(0,r.useEffect)(()=>{let e=()=>{T(window.matchMedia("(max-width: 480px)").matches?300:600)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,r.useEffect)(()=>{t(u),j($)},[P,u]);let A=()=>{s(e=>e.map(e=>({...e,correct:e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y})))},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.min(3+(u-1),10),t=P/e,n=P/e,i=[];for(let r=0;r<e;r++)for(let o=0;o<e;o++)i.push({id:i.length,originalPosition:{x:o*t,y:r*n},currentPosition:{x:o*t,y:r*n},width:t,height:n,backgroundPosition:`-${o*t}px -${r*n}px`,dropped:!1,correct:!1});for(let e=0;e<i.length;e++){let t=Math.floor(Math.random()*i.length),n=i[e].currentPosition;i[e].currentPosition=i[t].currentPosition,i[t].currentPosition=n}for(let e of i)if(e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y){let t=i.find(t=>t.id!==e.id&&(t.currentPosition.x!==t.originalPosition.x||t.currentPosition.y!==t.originalPosition.y));if(t){let n=e.currentPosition;e.currentPosition=t.currentPosition,t.currentPosition=n}}s(i),A()},I=(e,t)=>{e.dataTransfer.setData("pieceId",t.id),A()},S=e=>{e.every(e=>e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y)&&(d(!0),c("∞"),(0,a.XQ)(),y(!0),setTimeout(()=>{d(!1),j(),h("Upload an Image to Play Again!")},5e3))},k=e=>{let t=e.target.value;(""===t||t>=3&&t<=10)&&b(t)};return f?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:`mq-settings-container ${p?"glowing":""}`,children:(0,i.jsxs)("div",{className:"mq-upload",children:[(0,i.jsx)("input",{className:"mq-file-input mq-btn",type:"file",onChange:e=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onload=e=>{let t=new Image;t.onload=()=>{let e=document.createElement("canvas"),n=e.getContext("2d");e.width=600,e.height=600,n.drawImage(t,0,0,600,600),x(e.toDataURL("image/jpeg"))},t.src=e.target.result},e.readAsDataURL(t)}},accept:"image/*",id:"mq-upload-input"}),(0,i.jsx)("label",{className:"mq-settings-label",children:"Between 3 - 10"}),(0,i.jsx)("input",{className:"mq-settings-input",type:"number",id:"difficulty",value:$,onChange:e=>k(e),min:"3",max:"10"}),(0,i.jsx)(o.A,{text:"Apply Settings",onClick:()=>{h("Well Done!"),y(!1),j($)}})]})}),(0,i.jsx)("div",{className:"mq-jigsaw",style:{backgroundImage:`url(${v})`},children:(0,i.jsxs)("div",{className:`mq-board ${p?"glowing":""}`,onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let t=parseInt(e.dataTransfer.getData("pieceId"),10),i=n.find(e=>e.id===t),r=e.target.closest(".mq-board").getBoundingClientRect(),o=e.clientX-r.left,a=e.clientY-r.top,l=Math.min(Math.max(0,o-o%i.width),r.width-i.width),u=Math.min(Math.max(0,a-a%i.height),r.height-i.height),c=[...n],p=c.find(e=>e.id!==i.id&&e.currentPosition.x<l+i.width&&e.currentPosition.x+i.width>l&&e.currentPosition.y<u+i.height&&e.currentPosition.y+i.height>u);if(p){let e=i.currentPosition;i.currentPosition=p.currentPosition,p.currentPosition=e}else i.currentPosition={x:l,y:u};i.correct=i.currentPosition.x===i.originalPosition.x&&i.currentPosition.y===i.originalPosition.y,s(c),S(c),A()},children:[g&&(0,i.jsx)("h1",{className:"mq-ending-title",children:m}),n.map(e=>(0,i.jsx)("div",{className:`mq-piece ${e.correct?"correct":""}`,style:{backgroundImage:`url(${v})`,backgroundPosition:e.backgroundPosition,width:`${e.width}px`,height:`${e.height}px`,position:"absolute",top:`${e.currentPosition.y}px`,left:`${e.currentPosition.x}px`,zIndex:+!!e.dropped},draggable:!0,onDragStart:t=>I(t,e)},e.id))]})}),(0,i.jsx)("div",{className:"mq-btns-container",children:(0,i.jsx)(o.A,{text:"Restart Level",onClick:()=>j($)})})]}):(0,i.jsx)(l.A,{introText:"Welcome to the Custom Jigsaw Puzzle! In this game, you can upload your own image and turn it into a puzzle. Your goal is to piece together the scattered puzzle pieces to form the complete image. Drag and drop the pieces into their correct spots. The pieces that are in the right position will appear brighter than the others, helping guide you along the way. Enjoy the challenge of creating your own puzzle and solving it!",onStart:()=>w(!0)})}},5744:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(5155),r=n(9252);let o=e=>{let{isDisabled:t,text:n,onClick:o,className:a,secondaryButton:l}=e;return(0,i.jsx)("button",{className:`mq-btn${l?"--secondary":""} ${a||""}`,onClick:o,disabled:t,onMouseEnter:()=>(0,r.Rr)(),children:n})}},8637:(e,t,n)=>{e.exports=n(9399)()},9252:(e,t,n)=>{"use strict";n.d(t,{$1:()=>P,EN:()=>m,Gj:()=>x,KX:()=>a,LU:()=>v,Mz:()=>o,NL:()=>E,Qh:()=>j,Rr:()=>$,SI:()=>w,SW:()=>r,XQ:()=>b,Yj:()=>T,c:()=>S,hY:()=>I,iw:()=>g,nk:()=>u,oS:()=>f,p4:()=>A,rT:()=>p}),n(2115);let i="/assets/sounds/",r=()=>{let e=new Audio(`${i}disappear.mp3`);e.volume=.2,e.play()},o=()=>{new Audio(`${i}item-purchase.mp3`).play()},a=()=>{let e=new Audio(`${i}coin.mp3`);e.currentTime=.3,e.play()},l=null,s=null,u=e=>{e?l||((l=new Audio(`${i}door.mp3`)).volume=1,l.play()):l&&(clearInterval(s),s=setInterval(()=>{l.volume>.05?l.volume-=.05:(l.pause(),l.currentTime=0,l=null,clearInterval(s))},20))},c=null,p=e=>{e?c||((c=new Audio(`${i}item-equip.mp3`)).currentTime=1.3,c.play()):c&&(clearInterval(s),s=setInterval(()=>{c.volume>.05?c.volume-=.05:(c.pause(),c.currentTime=0,c=null,clearInterval(s))},20))},d=null,m=e=>{e?d||((d=new Audio(`${i}chest.mp3`)).currentTime=.5,d.play()):d&&(clearInterval(s),s=setInterval(()=>{d.volume>.05?d.volume-=.05:(d.pause(),d.currentTime=0,d=null,clearInterval(s))},20))},h=null,g=e=>{e?h||(h=new Audio(`${i}log-in-out.mp3`)).play():h&&(clearInterval(s),s=setInterval(()=>{h.volume>.05?h.volume-=.05:(h.pause(),h.currentTime=0,h=null,clearInterval(s))},20))},y=null,v=e=>{e?y||((y=new Audio(`${i}page-flip.mp3`)).currentTime=1.3,y.play()):y&&(clearInterval(s),s=setInterval(()=>{y.volume>.05?y.volume-=.05:(y.pause(),y.currentTime=0,y=null,clearInterval(s))},20))},x=()=>{new Audio(`${i}swallow.mp3`).play()},f=e=>{let t;["nosee","nohear","nospeak"].includes(e=e||"place-object")&&(e="monkey"),t=e,/\p{Emoji}/u.test(t)&&(e="place-object");let n=new Audio(`${i}${e}.mp3`);return n.currentTime=0,n.play(),n},w=()=>{new Audio(`${i}defeat.mp3`).play()},P=()=>{new Audio(`${i}shift.mp3`).play()},T=()=>{new Audio(`${i}appear.mp3`).play()},$=()=>{let e=new Audio(`${i}button-hover-3.mp3`);e.currentTime=.1,e.play()},b=()=>{let e=new Audio(`${i}uncover.mp3`);e.currentTime=.8,e.play()},A=()=>{let e=new Audio(`${i}click.mp3`);e.currentTime=0,e.play()},j=()=>{let e=new Audio(`${i}teleport.mp3`);e.currentTime=0,e.play()},I=()=>{let e=new Audio(`${i}happy-ending.mp3`);e.currentTime=0,e.play()},S=()=>{let e=new Audio(`${i}pop.mp3`);e.currentTime=0,e.play()},k=null,q=null,E=e=>{(!k||k.paused||q!==e)&&(k&&(k.pause(),k.currentTime=0,k=null),q=e,(k=new Audio(`${i}${e}.mp3`)).loop=!0,k.volume=.5,k.addEventListener("error",e=>{console.error("BG music failed to play:",e),k=null}),k.addEventListener("ended",()=>{k=null}),k.play().catch(e=>{console.warn("Auto-play failed or was interrupted:",e)}))}},9399:(e,t,n)=>{"use strict";var i=n(2948);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(42)),_N_E=e.O()}]);