(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{973:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r=i(5155),a=i(2115),n=i(8637),o=i.n(n),l=i(5744),s=i(9252);function u(e){let{introText:t,onStart:i,firstButtonText:n="Start Game",onSecondButtonClick:o,secondButtonText:u}=e,[c,d]=(0,a.useState)("");return(0,a.useEffect)(()=>{d(t.split(" ").map(e=>`<span class="word">${e}</span>`).join(" "))},[t]),(0,a.useEffect)(()=>{(0,s.NL)("bgmusic")},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mq-game-intro-text mq-text--white",dangerouslySetInnerHTML:{__html:c}}),(0,r.jsxs)("div",{className:"mq-btns-container",children:[i&&(0,r.jsx)(l.A,{text:n,onClick:()=>{(0,s.Qh)(),i()}}),u&&o&&(0,r.jsx)(l.A,{text:u,onClick:()=>{(0,s.Qh)(),o()}})]})]})}u.propTypes={introText:o().string.isRequired,onStart:o().func.isRequired,firstButtonText:o().string,onSecondButtonClick:o().func,secondButtonText:o().string}},1226:()=>{},5361:(e,t,i)=>{"use strict";i.d(t,{F7:()=>l,Lk:()=>o,to:()=>n});let r=()=>{let e,t=["#5c5e3d","#c47f3c","#ffffff"],i=document.createElement("canvas");document.body.appendChild(i),i.width=window.innerWidth,i.height=window.innerHeight,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.pointerEvents="none",i.style.zIndex="9999";let r=i.getContext("2d"),a=()=>({x:Math.random()*i.width,y:Math.random()*i.height,size:10*Math.random()+1,color:t[Math.floor(Math.random()*t.length)],speed:2*Math.random()+1,glowProgress:0,startDelay:2e3*Math.random(),alpha:1}),n=Array.from({length:2}).map(a),o=(e,t,i,r,a,n,o)=>{e.save(),e.beginPath(),e.translate(t,i),e.moveTo(0,-r);for(let t=0;t<5;t++)e.rotate(2*Math.PI/5),e.lineTo(0,-(.5*r)),e.rotate(2*Math.PI/5),e.lineTo(0,-r);e.closePath(),e.shadowBlur=n,e.shadowColor=a,e.fillStyle=a,e.globalAlpha=o,e.fill(),e.restore()},l=()=>{r.clearRect(0,0,i.width,i.height),n.forEach((e,t)=>{e.alpha>0?e.alpha-=.01:e.alpha=0,o(r,e.x,e.y,e.size,e.color,e.glowProgress,e.alpha),e.y+=e.speed,(e.y>i.height||0===e.alpha)&&(n[t]=a()),e.glowProgress<100&&e.startDelay<=0?e.glowProgress+=1:e.startDelay>0&&(e.startDelay-=16)}),e=requestAnimationFrame(l)};l(),setTimeout(()=>{cancelAnimationFrame(e),document.body.removeChild(i)},5e3)},a=!1,n=()=>{if(a)return;a=!0;let e=["#5c5e3d","#c47f3c","#ffffff"],t=document.createElement("canvas");document.body.appendChild(t),t.width=window.innerWidth,t.height=170,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.zIndex="-1";let i=t.getContext("2d"),r=()=>({x:Math.random()*t.width,y:170*Math.random(),size:10*Math.random()+1,color:e[Math.floor(Math.random()*e.length)],speed:+Math.random()+1,glowProgress:0,startDelay:2e3*Math.random(),alpha:1}),n=Array.from({length:10}).map(r),o=(e,t,i,r,a,n,o)=>{e.save(),e.beginPath(),e.translate(t,i),e.moveTo(0,-r);for(let t=0;t<5;t++)e.rotate(2*Math.PI/5),e.lineTo(0,-(.5*r)),e.rotate(2*Math.PI/5),e.lineTo(0,-r);e.closePath(),e.shadowBlur=n,e.shadowColor=a,e.fillStyle=a,e.globalAlpha=o,e.fill(),e.restore()},l=()=>{i.clearRect(0,0,t.width,t.height),n.forEach((e,a)=>{e.alpha=Math.max(0,e.alpha-.01),o(i,e.x,e.y,e.size,e.color,e.glowProgress,e.alpha),e.y+=e.speed,(e.y>t.height||0===e.alpha)&&(n[a]=r()),e.glowProgress<100&&e.startDelay<=0?e.glowProgress+=1:e.startDelay>0&&(e.startDelay-=16)}),requestAnimationFrame(l)};l()},o=()=>{let e=setInterval(()=>{r()},100);setTimeout(()=>clearInterval(e),1500)},l=()=>{let e=setInterval(()=>{r(3)},100);setTimeout(()=>clearInterval(e),4e3)}},5744:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(5155),a=i(9252);let n=e=>{let{isDisabled:t,text:i,onClick:n,className:o,secondaryButton:l}=e;return(0,r.jsx)("button",{className:`mq-btn${l?"--secondary":""} ${o||""}`,onClick:n,disabled:t,onMouseEnter:()=>(0,a.Rr)(),children:i})}},6247:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r=i(5155),a=i(2115),n=i(3784),o=i(6766),l=i(5744),s=i(5361);let u=e=>{let{resetGame:t}=e,i=(0,n.useRouter)();return(0,a.useEffect)(()=>{(0,s.F7)()},[]),(0,r.jsxs)("div",{className:"mq-gameover-container",children:[(0,r.jsx)(o.default,{src:"/assets/gif/game_over.webp",alt:"Game Over Screen",width:600,height:400,priority:!0}),(0,r.jsxs)("div",{className:"mq-btns-container",children:[(0,r.jsx)(l.A,{text:"Games List",onClick:()=>i.push("/")}),(0,r.jsx)(l.A,{text:"Play Again",onClick:t})]})]})}},6647:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var r=i(5155),a=i(2115),n=i(5744),o=i(6247),l=i(9252),s=i(973);let u=[{image:"/assets/images/jigsaw/puzzlelevel1.jpg",title:"Cairo - Egypt"},{image:"/assets/images/jigsaw/puzzlelevel2.jpg",title:"Paris - France"},{image:"/assets/images/jigsaw/puzzlelevel3.jpg",title:"Beijing - China"},{image:"/assets/images/jigsaw/puzzlelevel4.jpg",title:"Rome - Italy"},{image:"/assets/images/jigsaw/puzzlelevel5.jpg",title:"Rio de Janeiro - Brazil"},{image:"/assets/images/jigsaw/puzzlelevel6.jpg",title:"Dubai - Emirates"}],c=e=>{let{setCurrentLevel:t,setCurrentLevelPassed:i,setFinalLevelOver:c,setMaxLevel:d}=e,[m,h]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1),[y,w]=(0,a.useState)(1),[v,f]=(0,a.useState)(!1),[x,P]=(0,a.useState)(!1),[j,T]=(0,a.useState)(!1),[A,$]=(0,a.useState)(600);(0,a.useEffect)(()=>{let e=()=>{$(window.matchMedia("(max-width: 480px)").matches?300:600)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.useEffect)(()=>{b(),t(y),d(6)},[A,y]);let I=()=>{h(e=>e.map(e=>({...e,correct:e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y})))},b=()=>{let e=Math.min(3+(y-1),10),t=A/e,i=A/e,r=[];for(let a=0;a<e;a++)for(let n=0;n<e;n++)r.push({id:r.length,originalPosition:{x:n*t,y:a*i},currentPosition:{x:n*t,y:a*i},width:t,height:i,backgroundPosition:`-${n*t}px -${a*i}px`,dropped:!1,correct:!1});for(let e=0;e<r.length;e++){let t=Math.floor(Math.random()*r.length);[r[e].currentPosition,r[t].currentPosition]=[r[t].currentPosition,r[e].currentPosition]}for(let e of r)if(e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y){let t=r.find(t=>t.id!==e.id&&(t.currentPosition.x!==t.originalPosition.x||t.currentPosition.y!==t.originalPosition.y));t&&([e.currentPosition,t.currentPosition]=[t.currentPosition,e.currentPosition])}h(r),I()},M=(e,t)=>{e.dataTransfer.setData("pieceId",t.id),I()},z=e=>{e.every(e=>e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y)&&(f(!0),y<6?(i(!0),setTimeout(()=>{(0,l.XQ)(),P(!0)},2e3),setTimeout(()=>{f(!1),w(e=>e+1),c(!1),P(!1),(0,l.Qh)()},5e3)):(setTimeout(()=>{(0,l.XQ)(),P(!0)},2e3),setTimeout(()=>{c(!0),g(!0),P(!1),d(5)},5e3)))},k=()=>{w(1),g(!1),f(!1),b()};return j?p?(0,r.jsx)(o.A,{resetGame:k}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mq-jigsaw",style:{backgroundImage:`url(${u[y-1].image})`},children:(0,r.jsxs)("div",{className:`mq-board ${v?"glowing":""}`,onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let t=parseInt(e.dataTransfer.getData("pieceId"),10),i=m.find(e=>e.id===t),r=e.target.closest(".mq-board").getBoundingClientRect(),a=e.clientX-r.left,n=e.clientY-r.top,o=Math.min(Math.max(0,a-a%i.width),r.width-i.width),l=Math.min(Math.max(0,n-n%i.height),r.height-i.height),s=[...m],u=s.find(e=>e.id!==i.id&&e.currentPosition.x<o+i.width&&e.currentPosition.x+i.width>o&&e.currentPosition.y<l+i.height&&e.currentPosition.y+i.height>l);if(u){let e=i.currentPosition;i.currentPosition=u.currentPosition,u.currentPosition=e}else i.currentPosition={x:o,y:l};i.correct=i.currentPosition.x===i.originalPosition.x&&i.currentPosition.y===i.originalPosition.y,h(s),z(s),I()},children:[x&&(0,r.jsx)("h1",{className:"mq-ending-title",children:u[y-1].title})," ",m.map(e=>(0,r.jsx)("div",{className:`mq-piece ${e.correct?"correct":""}`,style:{backgroundImage:`url(${u[y-1].image})`,backgroundPosition:e.backgroundPosition,width:`${e.width}px`,height:`${e.height}px`,position:"absolute",top:`${e.currentPosition.y}px`,left:`${e.currentPosition.x}px`,zIndex:+!!e.dropped},draggable:!0,onDragStart:t=>M(t,e)},e.id))]})}),(0,r.jsxs)("div",{className:"mq-btns-container",children:[(0,r.jsx)(n.A,{text:"Restart Level",onClick:b}),y>1&&(0,r.jsx)(n.A,{text:"Restart Game",onClick:k})]})]}):(0,r.jsx)(s.A,{introText:"Welcome to the Jigsaw Puzzle! Your goal is to piece together the scattered puzzle pieces to form a complete image. Drag and drop the pieces into their correct spots. The pieces that are in the right position will appear brighter than the others, helping guide you along the way. Take your time, and enjoy the challenge of completing the picture!",onStart:()=>T(!0)})}},8753:(e,t,i)=>{Promise.resolve().then(i.bind(i,6647))},9252:(e,t,i)=>{"use strict";i.d(t,{$1:()=>P,EN:()=>h,Gj:()=>v,KX:()=>o,LU:()=>w,Mz:()=>n,NL:()=>E,Qh:()=>I,Rr:()=>T,SI:()=>x,SW:()=>a,XQ:()=>A,Yj:()=>j,c:()=>M,hY:()=>b,iw:()=>g,nk:()=>u,oS:()=>f,p4:()=>$,rT:()=>d}),i(2115);let r="/assets/sounds/",a=()=>{let e=new Audio(`${r}disappear.mp3`);e.volume=.2,e.play()},n=()=>{new Audio(`${r}item-purchase.mp3`).play()},o=()=>{let e=new Audio(`${r}coin.mp3`);e.currentTime=.3,e.play()},l=null,s=null,u=e=>{e?l||((l=new Audio(`${r}door.mp3`)).volume=1,l.play()):l&&(clearInterval(s),s=setInterval(()=>{l.volume>.05?l.volume-=.05:(l.pause(),l.currentTime=0,l=null,clearInterval(s))},20))},c=null,d=e=>{e?c||((c=new Audio(`${r}item-equip.mp3`)).currentTime=1.3,c.play()):c&&(clearInterval(s),s=setInterval(()=>{c.volume>.05?c.volume-=.05:(c.pause(),c.currentTime=0,c=null,clearInterval(s))},20))},m=null,h=e=>{e?m||((m=new Audio(`${r}chest.mp3`)).currentTime=.5,m.play()):m&&(clearInterval(s),s=setInterval(()=>{m.volume>.05?m.volume-=.05:(m.pause(),m.currentTime=0,m=null,clearInterval(s))},20))},p=null,g=e=>{e?p||(p=new Audio(`${r}log-in-out.mp3`)).play():p&&(clearInterval(s),s=setInterval(()=>{p.volume>.05?p.volume-=.05:(p.pause(),p.currentTime=0,p=null,clearInterval(s))},20))},y=null,w=e=>{e?y||((y=new Audio(`${r}page-flip.mp3`)).currentTime=1.3,y.play()):y&&(clearInterval(s),s=setInterval(()=>{y.volume>.05?y.volume-=.05:(y.pause(),y.currentTime=0,y=null,clearInterval(s))},20))},v=()=>{new Audio(`${r}swallow.mp3`).play()},f=e=>{let t;["nosee","nohear","nospeak"].includes(e=e||"place-object")&&(e="monkey"),t=e,/\p{Emoji}/u.test(t)&&(e="place-object");let i=new Audio(`${r}${e}.mp3`);return i.currentTime=0,i.play(),i},x=()=>{new Audio(`${r}defeat.mp3`).play()},P=()=>{new Audio(`${r}shift.mp3`).play()},j=()=>{new Audio(`${r}appear.mp3`).play()},T=()=>{let e=new Audio(`${r}button-hover-3.mp3`);e.currentTime=.1,e.play()},A=()=>{let e=new Audio(`${r}uncover.mp3`);e.currentTime=.8,e.play()},$=()=>{let e=new Audio(`${r}click.mp3`);e.currentTime=0,e.play()},I=()=>{let e=new Audio(`${r}teleport.mp3`);e.currentTime=0,e.play()},b=()=>{let e=new Audio(`${r}happy-ending.mp3`);e.currentTime=0,e.play()},M=()=>{let e=new Audio(`${r}pop.mp3`);e.currentTime=0,e.play()},z=null,k=null,E=e=>{(!z||z.paused||k!==e)&&(z&&(z.pause(),z.currentTime=0,z=null),k=e,(z=new Audio(`${r}${e}.mp3`)).loop=!0,z.volume=.5,z.addEventListener("error",e=>{console.error("BG music failed to play:",e),z=null}),z.addEventListener("ended",()=>{z=null}),z.play().catch(e=>{console.warn("Auto-play failed or was interrupted:",e)}))}}},e=>{var t=t=>e(e.s=t);e.O(0,[6766,3784,1901,8441,1684,7358],()=>t(8753)),_N_E=e.O()}]);