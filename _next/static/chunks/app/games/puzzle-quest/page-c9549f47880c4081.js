(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2956,7055],{1226:()=>{},3330:(e,t,i)=>{Promise.resolve().then(i.bind(i,6647)),Promise.resolve().then(i.bind(i,3005))},6247:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var o=i(5155),r=i(2115),s=i(3784),n=i(6766),a=i(5744),l=i(5361);let c=e=>{let{resetGame:t}=e,i=(0,s.useRouter)();return(0,r.useEffect)(()=>{(0,l.F7)()},[]),(0,o.jsxs)("div",{className:"mq-gameover-container",children:[(0,o.jsx)(n.default,{src:"/assets/gif/game_over.webp",alt:"Game Over Screen",width:600,height:400,priority:!0}),(0,o.jsxs)("div",{className:"mq-btns-container",children:[(0,o.jsx)(a.A,{text:"Games List",onClick:()=>i.push("/")}),(0,o.jsx)(a.A,{text:"Play Again",onClick:t})]})]})}},6647:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var o=i(5155),r=i(2115),s=i(5744),n=i(6247),a=i(9252),l=i(973);let c=[{image:"/assets/images/jigsaw/puzzlelevel1.jpg",title:"Cairo - Egypt"},{image:"/assets/images/jigsaw/puzzlelevel2.jpg",title:"Paris - France"},{image:"/assets/images/jigsaw/puzzlelevel3.jpg",title:"Beijing - China"},{image:"/assets/images/jigsaw/puzzlelevel4.jpg",title:"Rome - Italy"},{image:"/assets/images/jigsaw/puzzlelevel5.jpg",title:"Rio de Janeiro - Brazil"},{image:"/assets/images/jigsaw/puzzlelevel6.jpg",title:"Dubai - Emirates"}],g=e=>{let{setCurrentLevel:t,setCurrentLevelPassed:i,setFinalLevelOver:g,setMaxLevel:u}=e,[h,d]=(0,r.useState)([]),[m,p]=(0,r.useState)(!1),[P,x]=(0,r.useState)(1),[f,j]=(0,r.useState)(!1),[w,v]=(0,r.useState)(!1),[y,z]=(0,r.useState)(!1),[b,k]=(0,r.useState)(600);(0,r.useEffect)(()=>{let e=()=>{k(window.matchMedia("(max-width: 480px)").matches?300:600)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,r.useEffect)(()=>{N(),t(P),u(6)},[b,P]);let E=()=>{d(e=>e.map(e=>({...e,correct:e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y})))},N=()=>{let e=Math.min(3+(P-1),10),t=b/e,i=b/e,o=[];for(let r=0;r<e;r++)for(let s=0;s<e;s++)o.push({id:o.length,originalPosition:{x:s*t,y:r*i},currentPosition:{x:s*t,y:r*i},width:t,height:i,backgroundPosition:`-${s*t}px -${r*i}px`,dropped:!1,correct:!1});for(let e=0;e<o.length;e++){let t=Math.floor(Math.random()*o.length);[o[e].currentPosition,o[t].currentPosition]=[o[t].currentPosition,o[e].currentPosition]}for(let e of o)if(e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y){let t=o.find(t=>t.id!==e.id&&(t.currentPosition.x!==t.originalPosition.x||t.currentPosition.y!==t.originalPosition.y));t&&([e.currentPosition,t.currentPosition]=[t.currentPosition,e.currentPosition])}d(o),E()},S=(e,t)=>{e.dataTransfer.setData("pieceId",t.id),E()},$=e=>{e.every(e=>e.currentPosition.x===e.originalPosition.x&&e.currentPosition.y===e.originalPosition.y)&&(j(!0),P<6?(i(!0),setTimeout(()=>{(0,a.XQ)(),v(!0)},2e3),setTimeout(()=>{j(!1),x(e=>e+1),g(!1),v(!1),(0,a.Qh)()},5e3)):(setTimeout(()=>{(0,a.XQ)(),v(!0)},2e3),setTimeout(()=>{g(!0),p(!0),v(!1),u(5)},5e3)))},C=()=>{x(1),p(!1),j(!1),N()};return y?m?(0,o.jsx)(n.A,{resetGame:C}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mq-jigsaw",style:{backgroundImage:`url(${c[P-1].image})`},children:(0,o.jsxs)("div",{className:`mq-board ${f?"glowing":""}`,onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let t=parseInt(e.dataTransfer.getData("pieceId"),10),i=h.find(e=>e.id===t),o=e.target.closest(".mq-board").getBoundingClientRect(),r=e.clientX-o.left,s=e.clientY-o.top,n=Math.min(Math.max(0,r-r%i.width),o.width-i.width),a=Math.min(Math.max(0,s-s%i.height),o.height-i.height),l=[...h],c=l.find(e=>e.id!==i.id&&e.currentPosition.x<n+i.width&&e.currentPosition.x+i.width>n&&e.currentPosition.y<a+i.height&&e.currentPosition.y+i.height>a);if(c){let e=i.currentPosition;i.currentPosition=c.currentPosition,c.currentPosition=e}else i.currentPosition={x:n,y:a};i.correct=i.currentPosition.x===i.originalPosition.x&&i.currentPosition.y===i.originalPosition.y,d(l),$(l),E()},children:[w&&(0,o.jsx)("h1",{className:"mq-ending-title",children:c[P-1].title})," ",h.map(e=>(0,o.jsx)("div",{className:`mq-piece ${e.correct?"correct":""}`,style:{backgroundImage:`url(${c[P-1].image})`,backgroundPosition:e.backgroundPosition,width:`${e.width}px`,height:`${e.height}px`,position:"absolute",top:`${e.currentPosition.y}px`,left:`${e.currentPosition.x}px`,zIndex:+!!e.dropped},draggable:!0,onDragStart:t=>S(t,e)},e.id))]})}),(0,o.jsxs)("div",{className:"mq-btns-container",children:[(0,o.jsx)(s.A,{text:"Restart Level",onClick:N}),P>1&&(0,o.jsx)(s.A,{text:"Restart Game",onClick:C})]})]}):(0,o.jsx)(l.A,{introText:"Welcome to the Jigsaw Puzzle! Your goal is to piece together the scattered puzzle pieces to form a complete image. Drag and drop the pieces into their correct spots. The pieces that are in the right position will appear brighter than the others, helping guide you along the way. Take your time, and enjoy the challenge of completing the picture!",onStart:()=>z(!0)})}}},e=>{var t=t=>e(e.s=t);e.O(0,[445,6711,7672,851,6631,9007,2354,3784,104,4764,3489,8441,1684,7358],()=>t(3330)),_N_E=e.O()}]);